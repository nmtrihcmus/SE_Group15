<div class="homepage">
    <nav class="navbar mx-auto ">

        <div class="navbar-nav d-flex flex-row justify-content-center align-items-center">
            <a class="nav-link" href="/list" style="text-decoration: none;">Phim lẻ</a>
                
            <div class="dropdown nav-link ">
                <h5 class="dropdown-toggle" data-bs-toggle="dropdown">
                    Thể loại
                </h5>
                <ul class="dropdown-menu" style="position: absolute; z-index: 2;">
                    
                    {{#each genres}}
                    <li><a class="dropdown-item" href="/genre?genre={{this.genres}}&page=1">{{this.genres}}</a></li>

                    {{/each}}
                </ul>
            </div>
            
            <div class=" dropdown nav-link ">
                <h5 class="dropdown-toggle" data-bs-toggle="dropdown" >
                    Quốc gia
                </h5>
                <ul class="dropdown-menu" style="position: absolute; z-index: 2;">
                    
                    {{#each country}}
                    <li><a class="dropdown-item" href="/country?country={{this.country}}&page=1">{{this.country}}</a></li>

                    {{/each}}
                </ul>
            </div>
        </div>


    </nav>

    <div class="d-flex">

        <div class="list-movies col-9  " id="list">
            {{#if input}}
            <form action="/filter?input={{input}}" method="post" class="filter-search-movie d-flex justify-content-around">
                <select class="select-genres" name="genre">
                    <option disabled selected>Thể loại</option>
                    
                    {{#each genres}}
                        <option value="{{this.genres}}">{{this.genres}}</option>
                    {{/each}}
                </select>
                <select class="select-country" name="country" >
                    <option disabled selected>Quốc gia</option>
                    {{#each country}}
                        <option value="{{this.country}}">{{this.country}}</option>
                    {{/each}}
                </select>
                <input type="number" max = '2024'  min = '1900' name="year" placeholder="Năm">
                <button type="submit">Lọc phim</button>
            </form>
            {{/if}}
            
            <div >{{info}}</div>
           
            <div id="detail-input-search" hidden>{{input}}</div>
            <div class="page-list-movie">
                    <div class="cur-page">
                        {{#each listMovie}}
                    <div class="d-flex flex-row justify-content-around">
                        
                       {{#each this}}
                         <div onclick="window.location.href='/detail/{{id}}'">
                            <div class="card position-relative " style="width: 18rem" id="{{id}}" onclick="select({{id}})">
                                <img src="{{img}}" class="card-img-top" style="height: 27rem;" alt="{{id}}">
                                <h5 class="">{{title}}</h5>
                            </div>
                        </div>

                       {{/each}}
                        
                    </div>
                    {{/each}}
                    </div>
                    <nav aria-label="...">
            <ul class="pagination pagination-sm" >
            <li class="page-item active" > <a class="page-link"  onclick="loadPage(1)">1</a></li>
            {{#each nPage}}
                <li class="page-item" > <a class="page-link" onclick="loadPage({{this}})" > {{this}}</a></li>
            {{/each}}
          
            </ul>
        </nav>
                    
                
            </div>
        </div>
        <div class="bxh col-3" style="background-color:#D9D9D9;">
            <div class="fs-1 m-3" style="color: red;">Bảng xếp hạng</div>
            {{#each favMovie}}
            <div class="bxh-list m-3 d-flex" onclick="window.location.href='/detail/{{this.id}}'">
                <h4 class="m-3" style="padding-top: 50px ">{{this.stt}}</h4>
                <img src="{{this.img}}" alt="{{this.id}}"
                    style="width: 10rem">
                <h5 class="m-3">{{this.title}}</h5>
                <div class="m-3" style="padding-top: 90px; color:red;">❤{{this.favCount}}</div>
            </div>
            {{/each}}

        </div>
    </div>
</div>

<style>
    .homepage {
        padding: 0px 20px;
    }

    .nav-link {
        padding: 0px 20px;

        color: #fff;
    }

    .navbar {
        width: 40%;
        background-color: #3E63E8;
    }

    .card {
        margin: 10px;
    }

    .list-name {
        color: #3E63E8;
        font-size: 2em;
        margin: 3px;

    }
    .filter-search-movie{
        background: #D9D9D9;
        border-radius: 3px;
        width: 80%;
        margin: auto;
        padding: 10px 20px;
    }
    .filter-search-movie > button {
        background-color: #EEE744;
        border: none;
        padding: 5px;
    }
</style>

